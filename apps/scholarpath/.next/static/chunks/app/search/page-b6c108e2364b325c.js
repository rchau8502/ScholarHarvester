(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[797],{4124:(e,t,a)=>{Promise.resolve().then(a.bind(a,6530))},6530:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(7437),r=a(2265),c=a(8464),n=a(8935);function l(){let{data:e}=(0,n.w)("campuses",()=>(0,c.Au)()),[t,a]=(0,r.useState)(""),[l,o]=(0,r.useState)(),{data:i}=(0,n.w)(l?"metrics:".concat(l):null,()=>(0,c.Kt)({campus:l}),[l]),d=(0,r.useMemo)(()=>e?e.filter(e=>e.name.toLowerCase().includes(t.toLowerCase())):[],[e,t]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h1",{className:"text-3xl font-semibold text-primary",children:"Search Source Schools"}),(0,s.jsx)("input",{className:"w-full rounded border border-slate-300 px-4 py-2",placeholder:"Search community colleges or high schools",value:t,onChange:e=>a(e.target.value)}),(0,s.jsx)("div",{className:"grid gap-3 md:grid-cols-2",children:d.map(e=>(0,s.jsxs)("button",{className:"rounded border px-4 py-3 text-left ".concat(l===e.slug?"border-primary":"border-slate-200"),onClick:()=>o(e.slug),children:[(0,s.jsx)("div",{className:"text-lg font-semibold text-slate-700",children:e.name}),(0,s.jsx)("div",{className:"text-xs uppercase text-slate-500",children:e.system}),(0,s.jsx)("div",{className:"mt-2 text-sm text-primary underline",children:"Add to planner"})]},e.slug))}),i&&(0,s.jsxs)("div",{className:"rounded border border-slate-200 bg-white p-4",children:[(0,s.jsx)("h2",{className:"text-lg font-semibold text-slate-700",children:"Campus medians"}),(0,s.jsx)("ul",{className:"mt-3 space-y-2 text-sm text-slate-600",children:i.filter(e=>e.metric_key.startsWith("gpa_")).map(e=>{var t;return(0,s.jsxs)("li",{children:[e.metric_key.toUpperCase()," ",e.metric_year,": ",null===(t=e.value_float)||void 0===t?void 0:t.toFixed(2)]},"".concat(e.metric_key,"-").concat(e.metric_year))})})]})]})}},8464:(e,t,a)=>{"use strict";a.d(t,{Au:()=>c,Kt:()=>n,gy:()=>l,oV:()=>o});let s=a(8023).env.NEXT_PUBLIC_API_URL||"http://localhost:8080";async function r(e){let t=await fetch("".concat(s).concat(e),{cache:"no-store"});if(!t.ok)throw Error("Failed to fetch ".concat(e));return t.json()}async function c(){return r("/v1/campuses")}async function n(e){let t=new URLSearchParams;e.campus&&t.set("campus",e.campus),e.metric_key&&t.set("metric_key",e.metric_key);let a=t.toString();return r("/v1/metrics".concat(a?"?".concat(a):""))}async function l(e){return r("/v1/profile/".concat(e))}async function o(){return r("/v1/provenance")}},8935:(e,t,a)=>{"use strict";a.d(t,{w:()=>r});var s=a(2265);function r(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],[r,c]=(0,s.useState)({loading:!!e});return(0,s.useEffect)(()=>{let a=!1;return e?(c(e=>({...e,loading:!0,error:void 0})),t().then(e=>{a||c({data:e,loading:!1})}).catch(e=>{a||c({error:e,loading:!1})})):c({data:void 0,loading:!1}),()=>{a=!0}},[e,...a]),r}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,182,744],()=>t(4124)),_N_E=e.O()}]);